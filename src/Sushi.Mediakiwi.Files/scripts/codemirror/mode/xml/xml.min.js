(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("xml",function(t,i){function o(n,t){function i(i){return t.tokenize=i,i(n,t)}var r=n.next(),o,s,h;if(r=="<"){if(n.eat("!"))return n.eat("[")?n.match("CDATA[")?i(a("atom","]\]>")):null:n.match("--")?i(a("comment","-->")):n.match("DOCTYPE",!0,!0)?(n.eatWhile(/[\w\._\-]/),i(v(1))):null;if(n.eat("?"))return n.eatWhile(/[\w\._\-]/),t.tokenize=a("meta","?>"),"meta";for(o=n.eat("/"),f="";s=n.eat(/[^\s\u00a0=<>\"\'\/?]/);)f+=s;return(u.caseFold&&(f=f.toLowerCase()),!f)?"tag error":(e=o?"closeTag":"openTag",t.tokenize=l,"tag")}return r=="&"?(h=n.eat("#")?n.eat("x")?n.eatWhile(/[a-fA-F\d]/)&&n.eat(";"):n.eatWhile(/[\d]/)&&n.eat(";"):n.eatWhile(/[\w\.\-:]/)&&n.eat(";"),h?"atom":"error"):(n.eatWhile(/[^&<]/),null)}function l(n,t){var i=n.next(),r;return i==">"||i=="/"&&n.eat(">")?(t.tokenize=o,e=i==">"?"endTag":"selfcloseTag","tag"):i=="="?(e="equals",null):i=="<"?(t.tokenize=o,t.state=h,t.tagName=t.tagStart=null,r=t.tokenize(n,t),r?r+" error":"error"):/[\'\"]/.test(i)?(t.tokenize=nt(i),t.stringStartCol=n.column(),t.tokenize(n,t)):(n.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function nt(n){var t=function(t,i){while(!t.eol())if(t.next()==n){i.tokenize=l;break}return"string"};return t.isInAttribute=!0,t}function a(n,t){return function(i,r){while(!i.eol()){if(i.match(t)){r.tokenize=o;break}i.next()}return n}}function v(n){return function(t,i){for(var r;(r=t.next())!=null;){if(r=="<")return i.tokenize=v(n+1),i.tokenize(t,i);if(r==">")if(n==1){i.tokenize=o;break}else return i.tokenize=v(n-1),i.tokenize(t,i)}return"meta"}}function tt(n,t,i){this.prev=n.context;this.tagName=t;this.indent=n.indented;this.startOfLine=i;(u.doNotIndent.hasOwnProperty(t)||n.context&&n.context.noIndent)&&(this.noIndent=!0)}function y(n){n.context&&(n.context=n.context.prev)}function k(n,t){for(var i;;){if(!n.context)return;if(i=n.context.tagName,!u.contextGrabbers.hasOwnProperty(i)||!u.contextGrabbers[i].hasOwnProperty(t))return;y(n)}}function h(n,t,i){if(n=="openTag")return i.tagName=f,i.tagStart=t.column(),s;if(n=="closeTag"){var e=!1;return i.context?i.context.tagName!=f&&(u.implicitlyClosed.hasOwnProperty(i.context.tagName)&&y(i),e=!i.context||i.context.tagName!=f):e=!0,e&&(r="error"),e?it:p}return h}function p(n,t,i){return n!="endTag"?(r="error",p):(y(i),h)}function it(n,t,i){return r="error",p(n,t,i)}function s(n,t,i){if(n=="word")return r="attribute",rt;if(n=="endTag"||n=="selfcloseTag"){var f=i.tagName,e=i.tagStart;return i.tagName=i.tagStart=null,n=="selfcloseTag"||u.autoSelfClosers.hasOwnProperty(f)?k(i,f):(k(i,f),i.context=new tt(i,f,e==i.indented)),h}return r="error",s}function rt(n,t,i){return n=="equals"?ut:(u.allowMissing||(r="error"),s(n,t,i))}function ut(n,t,i){return n=="string"?d:n=="word"&&u.allowUnquoted?(r="string",s):(r="error",s(n,t,i))}function d(n,t,i){return n=="string"?d:s(n,t,i)}var w=t.indentUnit,g=i.multilineTagIndentFactor||1,c=i.multilineTagIndentPastTag,u,b,f,e,r;return c==null&&(c=!0),u=i.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},b=i.alignCDATA,{startState:function(){return{tokenize:o,state:h,indented:0,tagName:null,tagStart:null,context:null}},token:function(n,t){if(!t.tagName&&n.sol()&&(t.indented=n.indentation()),n.eatSpace())return null;f=e=null;var i=t.tokenize(n,t);return(i||e)&&i!="comment"&&(r=null,t.state=t.state(e||i,n,t),r&&(i=r=="error"?i+" error":r)),i},indent:function(t,i,r){var u=t.context;if(t.tokenize.isInAttribute)return t.stringStartCol+1;if(u&&u.noIndent)return n.Pass;if(t.tokenize!=l&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return c?t.tagStart+t.tagName.length+2:t.tagStart+w*g;if(b&&/<!\[CDATA\[/.test(i))return 0;for(u&&/^<\//.test(i)&&(u=u.prev);u&&!u.startOfLine;)u=u.prev;return u?u.indent+w:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:i.htmlMode?"html":"xml",helperType:i.htmlMode?"html":"xml"}});n.defineMIME("text/xml","xml");n.defineMIME("application/xml","xml");n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})});
/*
//# sourceMappingURL=xml.min.js.map
*/