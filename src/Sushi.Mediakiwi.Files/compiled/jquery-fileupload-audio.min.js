!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],a):a(window.jQuery,window.loadImage)}(function(a,b){"use strict";a.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(c,d){if(d.disabled)return c;var e,f,g=c.files[c.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(g.type)&&("number"!==a.type(d.maxFileSize)||g.size<=d.maxFileSize)&&(!d.fileTypes||d.fileTypes.test(g.type))&&(e=b.createObjectURL(g))?(f=this._audioElement.cloneNode(!1),f.src=e,f.controls=!0,c.audio=f,c):c},setAudio:function(a,b){return a.audio&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.audio),a}}})});